apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: cfb-dev

bases:
- ../../

# Development-specific values overrides
helmCharts:
- name: cfb
  repo: ""
  releaseName: cfb
  namespace: cfb-dev
  valuesInline:
    replicaCount: 1
    image:
      tag: dev-latest
    env:
      HTTP_PORT: 8080
      CFBD_API_BASE: https://api.collegefootballdata.com
      REDIS_ADDR: localhost:6379

# Patch resources for dev environment
patchesStrategicMerge:
- deployment-patch.yaml

# Generate dev-specific secrets
secretGenerator:
- name: cfb-secrets
  envs:
  - .env.dev
